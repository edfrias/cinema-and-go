(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t){e.exports="data:image/png;base64,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"},41:function(e,t){e.exports="data:image/png;base64,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"},42:function(e,t,n){e.exports=n(83)},47:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),s=n.n(o),c=(n(47),n(2)),l=n(18),i=Object(a.createContext)({}),u=n(36),m=n(7),p=n(1),f=n.n(p),E=n(3),v={undefinedOrNull:function(e){return"null"===e?null:"undefined"!==e?e:void 0}},h=n(8),b=n(11),d=n(5),y=n(9),g=n(12),S=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).call(this,e))}return Object(y.a)(t,e),t}(Object(g.a)(Error)),k=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).call(this,e))}return Object(y.a)(t,e),t}(Object(g.a)(Error)),T=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).call(this,e))}return Object(y.a)(t,e),t}(Object(g.a)(Error)),A=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).call(this,e))}return Object(y.a)(t,e),t}(Object(g.a)(Error)),_=(Object(g.a)(Error),function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).call(this,e))}return Object(y.a)(t,e),t}(Object(g.a)(Error))),w=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(d.a)(t).call(this,e))}return Object(y.a)(t,e),t}(Object(g.a)(Error)),j=(Object(g.a)(Error),Object(g.a)(Error),Object(g.a)(Error),Object(g.a)(Error),{arguments:function(e){e.forEach(function(e){var t=e.name,n=e.value,a=e.type,r=e.notEmpty,o=e.optional;if(void 0!==n){if(typeof n!==a)throw TypeError("".concat(t," ").concat(n," is not a ").concat(a));if(r)if("string"===a){if(!n.trim().length)throw new S("".concat(t," is empty"))}else if("object"===a&&!Object.keys(n).length)throw new S("".concat(t," is empty"))}else if(!o)throw new T("".concat(t," is not optional"))})},email:function(e){if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e)))throw new k("".concat(e," is not an e-mail"))},url:function(e){if(!/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(String(e)))throw new k("".concat(e," is not a url"))}}),O=n(37),N=n.n(O);var R,x,C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,a=void 0===n?"GET":n,r=t.headers,o=t.data;return j.arguments([{name:"url",value:e,type:"string",notEmpty:!0},{name:"method",value:a,type:"string",notEmpty:!0},{name:"headers",value:r,type:"object",optional:!0},{name:"data",value:o,type:"object",optional:!0}]),j.url(e),Object(E.a)(f.a.mark(function t(){var n,s,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N()({headers:r,method:a,url:e,data:o});case 3:return n=t.sent,t.abrupt("return",n.data);case 7:if(t.prev=7,t.t0=t.catch(0),"ENOTFOUND"!==t.t0.code){t.next=11;break}throw new A("cannot connect");case 11:if(!(s=t.t0.response)||!s.status){t.next=16;break}throw(c=new w).status=s.status,c;case 16:throw t.t0;case 17:case"end":return t.stop()}},t,null,[[0,7]])}))()},F={__url__:"no-url",__timeout__:0,registerUser:function(e,t,n){return j.arguments([{name:"name",value:e,type:"string",notEmpty:!0},{name:"email",value:t,type:"string",notEmpty:!0},{name:"password",value:n,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},data:{name:e,email:t,password:n}})},authenticateUser:function(e,t){return j.arguments([{name:"email",value:e,type:"string",notEmpty:!0},{name:"password",value:t,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/users/auth"),{method:"POST",headers:{"Content-Type":"application/json"},data:{email:e,password:t}})},retrieveUser:function(e){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/users"),{headers:{Authorization:"Bearer ".concat(e)}})},updateUser:function(e,t){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0},{name:"data",value:t,type:"object",notEmpty:!0}]),C("".concat(this.__url__,"/users"),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},data:t})},removeUser:function(e){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/users"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})},retrieveAllCinemas:function(e){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/cinemas"),{headers:{Authorization:"Bearer ".concat(e)}})},retrieveCinema:function(e,t){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0},{name:"cinemaId",value:t,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/cinema/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}})},retrieveAllSessions:function(e,t){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0},{name:"sessionId",value:t,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/cinema/sessions/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}})},retrieveTimeToArrive:function(e,t,n,a,r){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0},{name:"defaultPos",value:n,type:"string",notEmpty:!0},{name:"cinemaLocation",value:a,type:"string",notEmpty:!0},{name:"cinemaId",value:t,type:"string",notEmpty:!0},{name:"MAPS_KEY",value:r,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/user/distance/cinema?defaultPos=").concat(n,"&cinemaId=").concat(t,"&cinemaLocation=").concat(a,"&MAPS_KEY=").concat(r),{headers:{Authorization:"Bearer ".concat(e)}})},retrieveNearestCinemas:function(e,t,n){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0},{name:"userPosition",value:t,type:"object",notEmpty:!0},{name:"dist",value:n,type:"number",notEmpty:!0}]),C("".concat(this.__url__,"/cinemas/near?lng=").concat(t.lng,"&lat=").concat(t.lat,"&dist=").concat(n),{headers:{Authorization:"Bearer ".concat(e)}})},populateDb:function(e){return j.arguments([{name:"token",value:e,type:"string",notEmpty:!0}]),C("".concat(this.__url__,"/cinemas/scrapper"),{headers:{Authorization:"Bearer ".concat(e)}})}},U=(R={__userToken__:null},"__userToken__",(x={}).__userToken__=x.__userToken__||{},x.__userToken__.set=function(e){sessionStorage.userToken=e},"__userToken__",x.__userToken__=x.__userToken__||{},x.__userToken__.get=function(){return v.undefinedOrNull(sessionStorage.userToken)},"isUserLoggedIn",x.isUserLoggedIn=x.isUserLoggedIn||{},x.isUserLoggedIn.get=function(){return!!this.__userToken__},Object(m.a)(R,"registerUser",function(e,t,n){return j.arguments([{name:"name",value:e,type:"string",notEmpty:!0},{name:"email",value:t,type:"string",notEmpty:!0},{name:"password",value:n,type:"string",notEmpty:!0}]),j.email(t),Object(E.a)(f.a.mark(function a(){return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F.registerUser(e,t,n);case 3:a.next=8;break;case 5:throw a.prev=5,a.t0=a.catch(0),new _(a.t0);case 8:case"end":return a.stop()}},a,null,[[0,5]])}))()}),Object(m.a)(R,"loginUser",function(e,t){var n=this;return j.arguments([{name:"email",value:e,type:"string",notEmpty:!0},{name:"password",value:t,type:"string",notEmpty:!0}]),j.email(e),Object(E.a)(f.a.mark(function a(){var r;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F.authenticateUser(e,t);case 3:r=a.sent,n.__userToken__=r.token,a.next=10;break;case 7:throw a.prev=7,a.t0=a.catch(0),new _(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])}))()}),Object(m.a)(R,"logoutUser",function(){sessionStorage.clear()}),Object(m.a)(R,"retrieveUser",function(){var e=this;return Object(E.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.retrieveUser(e.__userToken__);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new _(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}))()}),Object(m.a)(R,"updateUser",function(e){var t=this;return j.arguments([{name:"data",value:e,type:"object",notEmpty:!0}]),Object(E.a)(f.a.mark(function n(){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.updateUser(t.__userToken__,e);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),new _(n.t0);case 8:case"end":return n.stop()}},n,null,[[0,5]])}))()}),Object(m.a)(R,"removeUser",function(){var e=this;return Object(E.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.removeUser(e.__userToken__);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new _(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}))()}),Object(m.a)(R,"populateDb",function(){var e=this;return Object(E.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.populateDb(e.__userToken__);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new _(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}))()}),Object(m.a)(R,"handleInitialLocation",function(){if(navigator.geolocation)try{return new Promise(function(e,t){var n={timeout:1e4,enableHighAccuracy:!0,maximumAge:1/0};navigator.geolocation.watchPosition(function(t){var n=t.coords,a=[n.longitude,n.latitude];e(a)},function(e){t("ERROR(".concat(e.code,"): ").concat(e.message))},n)}).then(function(e){return e})}catch(e){console.error("Error: The Geolocation service failed. ".concat(e))}else console.error("Error: Your browser doesn't support geolocation.")}),Object(m.a)(R,"retrieveTimeToArrive",function(e,t,n){var a=this;return Object(E.a)(f.a.mark(function r(){return f.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,F.retrieveTimeToArrive(a.__userToken__,e,t,n,"AIzaSyDUJnlk-inpNkXenyzldRXMGWOAPjZR2S4");case 3:return r.abrupt("return",r.sent);case 6:throw r.prev=6,r.t0=r.catch(0),new _(r.t0);case 9:case"end":return r.stop()}},r,null,[[0,6]])}))()}),Object(m.a)(R,"retrieveAllSessions",function(e){var t=this;return Object(E.a)(f.a.mark(function n(){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.retrieveAllSessions(t.__userToken__,e);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),new _(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))()}),Object(m.a)(R,"retrieveNearestCinemas",function(e,t){var n=this;return Object(E.a)(f.a.mark(function a(){return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F.retrieveNearestCinemas(n.__userToken__,e,t);case 3:return a.abrupt("return",a.sent);case 6:throw a.prev=6,a.t0=a.catch(0),new _(a.t0);case 9:case"end":return a.stop()}},a,null,[[0,6]])}))()}),Object(m.a)(R,"retrieveCinemaInfo",function(e){var t=this;return Object(E.a)(f.a.mark(function n(){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.retrieveCinema(t.__userToken__,e);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),new _(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))()}),Object(u.a)(R,x),R),V=(n(66),function(){var e=Object(a.useContext)(i).feedback;return r.a.createElement("p",{className:"feedback"},e)}),Q=(n(67),function(){var e=Object(a.useContext)(i).showSpinner?"spinner":"spinner hidden";return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"spinner__content"},r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"}))))}),I=n(17);n(68);var B=function(){return r.a.createElement("header",{className:"header container"},r.a.createElement("div",{className:"columns is-mobile"},r.a.createElement("h1",{className:"column is-12"},r.a.createElement(I.b,{to:"/"},"Cinema And Go"),r.a.createElement("span",{className:"subtitle"},"Find the closest cinema and go!")),r.a.createElement("div",{className:"logout-container",onClick:function(){U.logoutUser(),window.location.reload()}},r.a.createElement("span",{className:"logout-container__button"},r.a.createElement("i",{className:"fas fa-power-off"})))))},D=n(16),G=17,W={zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,rotateControl:!1,fullscreenControl:!1,styles:[{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",elementType:"labels.icon",stylers:[{color:"#ff8040"}]},{featureType:"poi.business",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]}]},z={zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,rotateControl:!1,fullscreenControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},J="AIzaSyDUJnlk-inpNkXenyzldRXMGWOAPjZR2S4";var L=function(e){var t=e.customZoom,n=e.children,a=(new Date).getHours(),o=null===sessionStorage.getItem("userLocation")?[41.3984046,2.1998436]:sessionStorage.getItem("userLocation").split(",").map(function(e){return parseFloat(e)}),s={lat:o[0],lng:o[1]},c=G;return r.a.createElement(D.e,{id:"script-loader",googleMapsApiKey:J},r.a.createElement(D.d,{center:s,mapContainerClassName:"map-container",mapContainerStyle:{height:"100vh",width:"100vw"},zoom:t||c,options:a>=6&&a<=18?W:z},n))};n(77);var q=function(){return r.a.createElement("section",{className:"landing"},r.a.createElement("section",{className:"landing__content"},r.a.createElement("section",{className:"main-section"},r.a.createElement(B,null),r.a.createElement("section",{className:" buttons"},r.a.createElement(I.b,{className:"button",to:"/login"},"Login"),r.a.createElement("span",{className:"separator"},"Or"),r.a.createElement(I.b,{className:"button",to:"/register"},"Register"))),r.a.createElement("section",{className:"maps"},r.a.createElement(L,null))))};n(78);var M=function(e){var t=e.onLogin,n=Object(a.useContext)(i).feedback,o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],u=s[1],m=Object(a.useState)(null),p=Object(c.a)(m,2),f=p[0],E=p[1];return r.a.createElement("section",{className:"login"},r.a.createElement("section",{className:"login__content"},r.a.createElement("section",{className:"main-section"},r.a.createElement(B,null),r.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),t(l,f)}},r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Insert email",onChange:function(e){return u(e.target.value)}}),r.a.createElement("label",{htmlFor:"email","data-label":"Insert email"})),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"password",name:"email",placeholder:"Insert password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("label",{htmlFor:"password","data-label":"Insert password"})),r.a.createElement("button",{className:"button"},"Log in"),n&&r.a.createElement(V,null))),r.a.createElement("section",{className:"maps"},r.a.createElement(L,null))))};n(79);var P=function(e){var t=e.onRegister,n=Object(a.useContext)(i).feedback,o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],u=s[1],m=Object(a.useState)(null),p=Object(c.a)(m,2),f=p[0],E=p[1],v=Object(a.useState)(null),h=Object(c.a)(v,2),b=h[0],d=h[1];return r.a.createElement("section",{className:"register"},r.a.createElement("section",{className:"register__content"},r.a.createElement("section",{className:"main-section"},r.a.createElement(B,null),r.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),t(l,f,b)}},r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Insert name",onChange:function(e){return u(e.target.value)}}),r.a.createElement("label",{htmlFor:"name","data-label":"Insert name"})),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Insert email",onChange:function(e){return E(e.target.value)}}),r.a.createElement("label",{htmlFor:"email","data-label":"Insert email"})),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"password",name:"email",placeholder:"Insert password",onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",{htmlFor:"password","data-label":"Insert password"})),r.a.createElement("button",{className:"button"},"Register"),n&&r.a.createElement(V,null))),r.a.createElement("section",{className:"maps"},r.a.createElement(L,null))))};function Y(){return null!==sessionStorage.getItem("userLocation")&&sessionStorage.getItem("userLocation").split(",").map(function(e){return parseFloat(e)})}var Z=function(e){var t=e.customPosition,n=e.customHandler,a=e.visible,o=e.icon,s={lat:t[0],lng:t[1]};return r.a.createElement(D.f,{position:s,onClick:n,visible:a,icon:o})},H=(n(80),function(e){var t=e.onClose,n=e.id,o=e.onDirectionsService,s=Y().join(),l=function(){var e=new Date;return e.getSeconds()+60*e.getMinutes()+3600*e.getHours()},i=Object(a.useState)({}),u=Object(c.a)(i,2),m=u[0],p=u[1],v=Object(a.useState)([]),h=Object(c.a)(v,2),b=h[0],d=h[1],y=function(){var e=Object(E.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.movieSessions){e.next=8;break}return e.next=3,U.retrieveTimeToArrive(t._id,s,t.location.coordinates.join());case 3:return n=e.sent,e.next=6,Promise.all(t.movieSessions.map(function(){var e=Object(E.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.retrieveAllSessions(t);case 2:return(a=e.sent).forEach(function(e){e.sessions.forEach(function(t,a){var r=(t=t.replace(".",":")).split(":"),o=60*+r[0]*60+60*+r[1];n&&""!==t&&(e.sessions[a]={session:t,state:l()+900+n.duration<=o,value:o})})}),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:a=e.sent,d(a.flat());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){Object(E.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.retrieveCinemaInfo(n);case 2:t=e.sent,p(t),y(t);case 5:case"end":return e.stop()}},e)}))()},[n]),r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__content"},r.a.createElement("i",{className:"close-modal",onClick:t}),r.a.createElement("section",{className:"cinema"},r.a.createElement("h2",{className:"cinema__title"},m.name),r.a.createElement("ul",{className:"cinema__movies"},!!b.length&&b.map(function(e){return r.a.createElement("li",{className:"movie__item",key:e.movie._id},r.a.createElement("section",null,r.a.createElement("img",{src:e.movie.img}),r.a.createElement("div",null,r.a.createElement("p",null,e.movie.title),r.a.createElement("p",null,e.movie.info&&e.movie.info.join(", ")),r.a.createElement("p",null,e.movie.cast),console.log(e.sessions),r.a.createElement("ul",{className:"movie-sessions"},e.sessions&&""!==e.sessions[0]&&e.sessions.map(function(e,t){return r.a.createElement("li",{className:"session ".concat(e.state?"green":"red"),key:"session-".concat(t),onClick:function(){return e=m.location.coordinates.join(),void o(e);var e}},e.session)})))))}))),r.a.createElement("div",{className:"layer",onClick:t})))}),X=n(40),K=n.n(X),$=n(41),ee=n.n($),te=(n(81),function(){var e=Y(),t=function(){var e=Y();return{lng:e[0],lat:e[1]}}(),n=Object(a.useState)(null),o=Object(c.a)(n,2),s=o[0],l=o[1],i=Object(a.useState)(!1),u=Object(c.a)(i,2),m=u[0],p=u[1],v=Object(a.useState)(null),h=Object(c.a)(v,2),b=h[0],d=h[1],y=Object(a.useState)(null),g=Object(c.a)(y,2),S=g[0],k=g[1],T=Object(a.useState)(null),A=Object(c.a)(T,2),_=A[0],w=A[1];return Object(a.useEffect)(function(){!function(){var n=Object(E.a)(f.a.mark(function n(){var a;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,U.retrieveNearestCinemas(t,2e3);case 3:return a=n.sent,sessionStorage.setItem("cinemaPoints",JSON.stringify(a)),n.abrupt("return",l(a));case 6:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()()},[]),r.a.createElement("section",{className:"home"},m&&r.a.createElement(H,{onClose:function(){p(!1)},id:b,onDirectionsService:function(e){k(e),p(!1)}}),r.a.createElement("span",{className:"populate",onClick:function(){U.populateDb()}}," Populate! "),r.a.createElement(B,null),r.a.createElement("section",{className:"home__content"},e&&r.a.createElement("section",{className:"maps"},r.a.createElement(L,{customZoom:14.5},r.a.createElement(D.a,{center:{lat:e[0],lng:e[1]},options:{strokeColor:"#ce9234",strokeOpacity:.85,strokeWeight:2,fillColor:"#ffd364",fillOpacity:.35,clickable:!1,draggable:!1,editable:!1,visible:!_,radius:2e3,zIndex:1}}),r.a.createElement(Z,{clickable:!1,customPosition:e,visible:!_,icon:K.a}),s&&s.map(function(e){var t=e.location,n=e._id;return r.a.createElement(Z,{key:n,customPosition:t.coordinates,customHandler:function(){d(n),p(!0)},visible:!_,icon:ee.a})}),null!==S&&r.a.createElement(D.c,{options:{destination:S,origin:e.join(),travelMode:"WALKING"},callback:function(e){console.log(e),null!==e&&("OK"===e.status?w(e):console.log("response: ",e))}}),null!==_&&r.a.createElement(D.b,{options:{directions:_}})))))});n(82);var ne=Object(l.e)(function(e){var t=e.history,n=Object(a.useState)(null),o=Object(c.a)(n,2),s=o[0],u=o[1],m=Object(a.useState)(null),p=Object(c.a)(m,2),f=p[0],E=p[1],v=function(e,n,a){E(!0);try{U.registerUser(e,n,a).then(function(){E(null),t.push("/")})}catch(o){var r=o.message;E(null),u(r)}},h=function(e,n){E(!0);try{U.loginUser(e,n).then(function(){E(null),t.push("/home")})}catch(r){var a=r.message;E(null),u(a)}};return Object(a.useEffect)(function(){!function(){try{U.handleInitialLocation().then(function(e){var t=e.reverse();sessionStorage.setItem("userLocation",t)})}catch(t){var e=t.message;console.log("error:",e)}}()},[]),r.a.createElement(a.Fragment,null,r.a.createElement(i.Provider,{value:{feedback:s,setFeedback:u,showSpinner:f,handleSpinner:E}},r.a.createElement(Q,null),r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return U.isUserLoggedIn?r.a.createElement(l.a,{to:"/home"}):r.a.createElement(q,null)}}),r.a.createElement(l.b,{exact:!0,path:"/login",render:function(){return U.isUserLoggedIn?r.a.createElement(l.a,{to:"/home"}):r.a.createElement(M,{onLogin:h})}}),r.a.createElement(l.b,{exact:!0,path:"/register",render:function(){return U.isUserLoggedIn?r.a.createElement(l.a,{to:"/home"}):r.a.createElement(P,{onRegister:v})}}),r.a.createElement(l.b,{exact:!0,path:"/home",render:function(){return U.isUserLoggedIn?r.a.createElement(te,null):r.a.createElement(l.a,{to:"/"})}})),s&&r.a.createElement(V,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));F.__url__="https://calm-brook-17960.herokuapp.com/api",s.a.render(r.a.createElement(I.a,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.c7a171a3.chunk.js.map